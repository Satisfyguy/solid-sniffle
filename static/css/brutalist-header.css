/**
 * NEXUS BRUTALIST - Header Styling
 *
 * Maintains the 5-column grid structure from nexus-grid-header.css
 * Grid: 80px | 1fr | 1fr | 80px | 1fr
 * Transforms visual style to brutalist black & white aesthetic
 */

/* ========================================
   HEADER CONTAINER
   ======================================== */

.nexus-grid-header {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: var(--z-header);

  /* Grid structure (PRESERVED from original) */
  display: grid;
  grid-template-columns: 80px 1fr 1fr 80px 1fr;
  height: var(--brutalist-header-height);

  /* Brutalist styling */
  background: var(--brutalist-header-bg);
  color: var(--brutalist-fg);
  border-bottom: var(--brutalist-header-border);

  /* No shadows - brutalist style */
  box-shadow: none;
}

/* All grid boxes */
.nexus-grid-box {
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  overflow: hidden;
}

/* ========================================
   LOGO (Box 1 - 80px)
   ======================================== */

.nexus-grid-logo {
  border-right: var(--brutalist-border-width-normal) solid var(--brutalist-border);
}

.nexus-grid-logo a {
  font-family: var(--brutalist-font-display);
  font-size: 2.5rem;
  font-weight: var(--brutalist-weight-black);
  color: var(--brutalist-fg);
  text-decoration: none;
  letter-spacing: var(--brutalist-tracking-tight);
  transition: transform var(--brutalist-duration-fast) var(--brutalist-ease-linear);
}

.nexus-grid-logo a:hover {
  transform: scale(1.1);
}

.nexus-grid-logo a:active {
  transform: scale(0.95);
}

/* ========================================
   TYPEWRITER (Box 2 - 1fr)
   ======================================== */

.nexus-grid-typewriter {
  border-right: var(--brutalist-border-width-normal) solid var(--brutalist-border);
  padding: 0 var(--brutalist-space-4);
}

.nexus-typewriter-content {
  font-family: var(--brutalist-font-mono);
  font-size: var(--brutalist-text-sm);
  font-weight: var(--brutalist-weight-bold);
  color: var(--brutalist-fg);
  letter-spacing: var(--brutalist-tracking-wide);
  text-transform: uppercase;
}

.nexus-cursor {
  animation: brutalist-cursor-blink 1s step-end infinite;
  font-weight: var(--brutalist-weight-normal);
}

@keyframes brutalist-cursor-blink {
  0%, 50% {
    opacity: 1;
  }
  51%, 100% {
    opacity: 0;
  }
}

/* ========================================
   NAVIGATION (Box 3 - 1fr)
   ======================================== */

.nexus-grid-nav {
  border-right: var(--brutalist-border-width-normal) solid var(--brutalist-border);
}

.nexus-grid-nav nav {
  display: flex;
  align-items: center;
  gap: var(--brutalist-space-2);
}

.nexus-grid-nav a {
  font-family: var(--brutalist-font-sans);
  font-size: var(--brutalist-text-sm);
  font-weight: var(--brutalist-weight-bold);
  color: var(--brutalist-fg);
  text-decoration: none;
  letter-spacing: var(--brutalist-tracking-wider);
  text-transform: uppercase;
  padding: var(--brutalist-space-2) var(--brutalist-space-3);
  border: var(--brutalist-border-width-thin) solid transparent;
  transition: all var(--brutalist-duration-fast) var(--brutalist-ease-linear);
}

.nexus-grid-nav a:hover {
  border-color: var(--brutalist-fg);
  background: var(--brutalist-hover-bg);
  color: var(--brutalist-hover-fg);
}

.nexus-grid-nav a:active {
  transform: scale(0.95);
}

.nexus-grid-nav .sep {
  color: var(--brutalist-fg);
  opacity: 0.3;
  font-weight: var(--brutalist-weight-normal);
}

/* ========================================
   AUTH BOX (Box 4 - 80px split in 2)
   ======================================== */

.nexus-grid-auth {
  border-right: var(--brutalist-border-width-normal) solid var(--brutalist-border);
  display: grid;
  grid-template-columns: 1fr 1fr;
  padding: 0;
}

.nexus-auth-half {
  display: flex;
  align-items: center;
  justify-content: center;
  height: 100%;
  position: relative;
  border-right: var(--brutalist-border-width-thin) solid var(--brutalist-border);
}

.nexus-auth-half:last-child {
  border-right: none;
}

.nexus-auth-icon {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  height: 100%;
  background: none;
  border: none;
  color: var(--brutalist-fg);
  cursor: pointer;
  font-family: var(--brutalist-font-display);
  font-size: var(--brutalist-text-lg);
  font-weight: var(--brutalist-weight-bold);
  transition: all var(--brutalist-duration-fast) var(--brutalist-ease-linear);
  position: relative;
  z-index: 1;
}

.nexus-auth-half:hover .nexus-auth-icon {
  background: var(--brutalist-hover-bg);
  color: var(--brutalist-hover-fg);
}

.nexus-auth-half:active .nexus-auth-icon {
  transform: scale(0.9);
}

/* ========================================
   USER MENU DROPDOWN
   ======================================== */

.nexus-user-menu-container {
  position: relative;
  width: 100%;
  height: 100%;
}

.nexus-user-menu-trigger {
  width: 100%;
  height: 100%;
  text-transform: uppercase;
}

.nexus-user-dropdown {
  position: fixed;
  top: var(--brutalist-header-height);
  right: 80px;
  background: var(--brutalist-bg);
  border: var(--brutalist-border-width-normal) solid var(--brutalist-border);
  border-top: none;
  min-width: 200px;
  z-index: calc(var(--z-header) + 100);
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  transform: translateY(-10px);
  transition: all var(--brutalist-duration-normal) var(--brutalist-ease-out);
  box-shadow: var(--brutalist-shadow-md);
}

.nexus-user-dropdown.active {
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
  transform: translateY(0);
}

.nexus-dropdown-item {
  display: block;
  padding: var(--brutalist-space-4);
  color: var(--brutalist-fg);
  text-decoration: none;
  font-family: var(--brutalist-font-mono);
  font-size: var(--brutalist-text-sm);
  font-weight: var(--brutalist-weight-semibold);
  letter-spacing: var(--brutalist-tracking-wide);
  text-transform: uppercase;
  border-bottom: var(--brutalist-border-width-thin) solid var(--brutalist-border);
  transition: all var(--brutalist-duration-fast) var(--brutalist-ease-linear);
}

.nexus-dropdown-item:hover {
  background: var(--brutalist-hover-bg);
  color: var(--brutalist-hover-fg);
}

.nexus-dropdown-item:last-child {
  border-bottom: none;
}

.nexus-dropdown-username {
  display: block;
  padding: var(--brutalist-space-3) var(--brutalist-space-4);
  font-family: var(--brutalist-font-mono);
  font-size: var(--brutalist-text-xs);
  font-weight: var(--brutalist-weight-normal);
  color: var(--brutalist-fg);
  opacity: 0.5;
  border-top: var(--brutalist-border-width-thin) solid var(--brutalist-border);
  text-transform: lowercase;
}

/* ========================================
   THEME TOGGLE (Box 5 - 1fr)
   ======================================== */

.nexus-grid-toggle {
  padding: var(--brutalist-space-2);
}

.nexus-toggle-dot {
  background: none;
  border: none;
  padding: 0;
  cursor: pointer;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Note: Circle texture applied via brutalist-textures.css */

/* ========================================
   RESPONSIVE DESIGN
   ======================================== */

/* Tablet (768px - 1200px) */
@media (max-width: 1200px) {
  .nexus-grid-header {
    grid-template-columns: 70px 1fr 1fr 70px 1fr;
    height: 70px;
  }

  .nexus-grid-logo a {
    font-size: 2rem;
  }

  .nexus-typewriter-content {
    font-size: var(--brutalist-text-xs);
  }

  .nexus-grid-nav a {
    font-size: var(--brutalist-text-xs);
    padding: var(--brutalist-space-1) var(--brutalist-space-2);
  }
}

/* Mobile (<768px) */
@media (max-width: 768px) {
  .nexus-grid-header {
    /* Simplified grid: Logo | Auth | Toggle */
    grid-template-columns: 60px 1fr 60px;
    height: 60px;
  }

  /* Hide typewriter and navigation on mobile */
  .nexus-grid-typewriter,
  .nexus-grid-nav {
    display: none;
  }

  .nexus-grid-logo {
    border-right: var(--brutalist-border-width-normal) solid var(--brutalist-border);
  }

  .nexus-grid-logo a {
    font-size: 1.5rem;
  }

  .nexus-grid-auth {
    border-right: var(--brutalist-border-width-normal) solid var(--brutalist-border);
  }

  .nexus-auth-icon {
    font-size: var(--brutalist-text-base);
  }

  .nexus-user-dropdown {
    right: 60px;
    top: 60px;
    min-width: 180px;
  }
}

/* ========================================
   PRINT STYLES
   ======================================== */

@media print {
  .nexus-grid-header {
    position: static;
    border-bottom-width: var(--brutalist-border-width-thin);
    box-shadow: none;
    height: auto;
  }

  .nexus-grid-typewriter,
  .nexus-grid-toggle,
  .nexus-user-dropdown {
    display: none !important;
  }
}

/* ========================================
   ACCESSIBILITY
   ======================================== */

@media (prefers-reduced-motion: reduce) {
  .nexus-grid-logo a,
  .nexus-grid-nav a,
  .nexus-auth-icon,
  .nexus-user-dropdown,
  .nexus-cursor {
    transition: none;
    animation: none;
  }
}

/* High contrast mode */
@media (prefers-contrast: high) {
  .nexus-grid-header {
    border-bottom-width: var(--brutalist-border-width-thick);
  }

  .nexus-grid-box {
    border-right-width: var(--brutalist-border-width-normal);
  }

  .nexus-grid-nav a:hover {
    border-width: var(--brutalist-border-width-normal);
  }
}
