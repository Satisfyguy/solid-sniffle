// Typewriter effect for absurd crypto phrases
// All phrases must be UPPERCASE and UNDER 40 CHARACTERS

const phrases = [
    "ENCRYPTING YOUR POTATO",
    "HASHING THE VIBES",
    "PEER REVIEWING NOTHING",
    "MULTISIG YOUR CAT",
    "ESCROW FOR THOUGHTS",
    "RING SIGNATURE PENDING",
    "STEALTH MODE: OBVIOUS",
    "ZERO KNOWLEDGE ACHIEVED",
    "TRANSACTION MAYBE",
    "DECENTRALIZING LUNCH",
    "NO MIDDLEMAN FOUND",
    "CRYPTOGRAPHICALLY CONFUSED",
    "TRUSTLESS BUT ANXIOUS",
    "PRIVATE SCREAMING",
    "MONERO SHRUGS",
    "FUNDS SOMEWHERE",
    "ONION LAYERS EMOTIONAL",
    "TOR BUT LOST",
    "ANONYMOUS WAVING",
    "BLOCKCHAIN EXISTENTIAL",
    "SURVEILLANCE FREE PARANOIA",
    "PURE P2P CHAOS",
    "KEYS MISPLACED",
    "NON CUSTODIAL REGRETS",
    "DISPUTE WITH SELF",
    "MULTISIG DISAGREEMENT",
    "TIMESTAMP IRRELEVANT",
    "MEMPOOL OVERTHINKING",
    "NODES GOSSIPING",
    "CONFIRMATIONS UNCERTAIN",
    "UNTRACEABLE LIKE MY EX",
    "VIEW KEY REDACTED",
    "SUBADDRESS IDENTITY CRISIS",
    "RING SIZE COMPENSATING",
    "PAYMENT ID FORGOT",
    "NO KYC NO IDEA",
    "PSEUDONYMOUS CRYING",
    "CRYPTOGRAPHIC DOUBT",
    "CONSENSUS IMPOSSIBLE",
    "MERKLE TREE FELL",
    "OUTPUTS CONFUSED",
    "AMOUNTS EMBARRASSING",
    "TRANSACTION REGRETTING",
    "NETWORK AWKWARD",
    "PEER JUDGING",
    "HANDSHAKE SWEATY",
    "SESSION FORGOT CONTEXT",
    "METADATA OVERSHARING",
    "PRIVACY SCREAMING",
    "TRUST ISSUES VERIFIED",
    "VALIDATING EXISTENTIAL DREAD",
    "ORPHAN BLOCKS ADOPTED",
    "NONCE MAKES NO SENSE",
    "DIFFICULTY ADJUSTED DOWN",
    "MINING YOUR BUSINESS",
    "PROOF OF WORK AVOIDED",
    "CONSENSUS SPLIT PERSONALITY",
    "FORK HAPPENED AGAIN",
    "SOFT FORK HARD FEELINGS",
    "CHAIN REORGANIZING LIFE",
    "DOUBLE SPEND REGRET",
    "WALLET SYNC FOREVER",
    "SEED PHRASE ANXIETY",
    "MNEMONIC FORGOT ALREADY",
    "PRIVATE KEY PUBLIC SHAME",
    "ADDRESS REUSE JUDGMENT",
    "DUST ATTACK TICKLES",
    "FEE MARKET HOSTILE",
    "TRANSACTION STUCK LIMBO",
    "REPLACE BY FEE THERAPY",
    "CHILD PAYS PARENT ISSUES",
    "UTXO SET BLOATED",
    "SCRIPTPUBKEY CONFUSED",
    "OPRETURN SCREAMING VOID",
    "LOCKTIME EXPIRED PATIENCE",
    "SEQUENCE NUMBER LOST COUNT",
    "WITNESS DATA TESTIFYING",
    "SEGWIT BUT REGRET",
    "TAPROOT PLANTED DOUBT",
    "SCHNORR SIGNATURE SHRUGGING",
    "LIGHTNING NETWORK SCARED",
    "CHANNEL CAPACITY EMOTIONAL",
    "ROUTING FAILED AGAIN",
    "INVOICE EXPIRED MOOD",
    "ONION ROUTING CRYING",
    "PAYMENT HASH BROWNS",
    "PREIMAGE REVEALED TRAUMA",
    "HTLC TIMEOUT FOREVER",
    "SUBMARINE SWAP DROWNING",
    "WATCHTOWER SLEEPING",
    "JUSTICE TRANSACTION BITTER",
    "COMMITMENT TX ISSUES",
    "REVOCATION KEY REGRETS",
    "FUNDING TX AWKWARD",
    "CLOSING CHANNEL CLOSURE",
    "FORCE CLOSE VIOLENCE",
    "COOPERATIVE CLOSE LIES",
    "ANCHOR OUTPUT DRIFTING",
    "DUST LIMIT EXISTENTIAL",
    "SATOSHI VISION BLURRY",
    "BLOCK REWARD DISAPPOINTING",
    "HALVING CRISIS MIDLIFE",
    "DIFFICULTY BOMB THERAPY",
    "UNCLE BLOCK ESTRANGED",
    "GAS LIMIT SUFFOCATING",
    "NONCE OVERFLOW PANIC",
    "REORG DEPTH VERTIGO",
    "STALE BLOCK MOLDY",
    "SELFISH MINING HONEST",
    "ECLIPSE ATTACK LONELY",
    "SYBIL ATTACK IDENTITY",
    "FIFTY ONE PERCENT DOUBT",
    "NOTHING AT STAKE PHILOSOPHY",
    "LONG RANGE ATTACK NOSTALGIA",
    "GRINDING ATTACK EXHAUSTED",
    "TIMESTAMP MANIPULATION LIES",
    "FRONT RUNNING LATE",
    "SANDWICH ATTACK HUNGRY",
    "MEV EXTRACTING SOUL",
    "FLASHBOTS REGRETTING",
    "DARK FOREST LOST",
    "SLIPPAGE TOLERANCE ZERO",
    "IMPERMANENT LOSS PERMANENT",
    "LIQUIDITY POOL DROWNING",
    "AUTOMATED MARKET CONFUSED",
    "BONDING CURVE BROKEN",
    "PRICE ORACLE LYING",
    "FLASH LOAN REGRET",
    "SMART CONTRACT DUMB",
    "SOLIDITY MELTING",
    "GAS OPTIMIZATION FUTILE",
    "REENTRANCY GUARD SLEEPING",
    "OVERFLOW UNDERFLOW EXISTENTIAL",
    "DELEGATE CALL TRUST ISSUES",
    "SELFDESTRUCT TEMPTING",
    "FALLBACK FUNCTION CRYING",
    "PROXY CONTRACT IMPOSTER",
    "UPGRADEABLE REGRETS",
    "IMMUTABLE LIES",
    "DETERMINISTIC CHAOS",
    "NONDETERMINISTIC CERTAINTY",
    "STATE MACHINE BROKEN",
    "EVENT LOG TRAUMA",
    "ABI ENCODING GIBBERISH",
    "BYTECODE INCOMPREHENSIBLE",
    "EVM COMPATIBLE BARELY",
    "CROSS CHAIN BRIDGE COLLAPSED",
    "ATOMIC SWAP NUCLEAR",
    "ZERO CONF TRUST FALL",
    "REPLACE BY FEE BETRAYAL",
    "MERKLE ROOT VEGETABLE",
    "PATRICIA TRIE TIRED",
    "BLOOM FILTER WILTING",
    "COMPACT BLOCK ANXIETY",
    "GRAPHENE BLOCK FRAGILE",
    "FIBRE NETWORK CONSTIPATED",
    "INV MESSAGE INVASIVE",
    "GETDATA OVERSHARING",
    "ADDR BROADCAST LOST",
    "PING PONG EXISTENTIAL",
    "VERSION HANDSHAKE AWKWARD",
    "HEADERS FIRST PRIORITIES",
    "CHECKPOINT MISSED DEADLINE",
    "PRUNING NODE REGRET",
    "FULL NODE EMPTY INSIDE",
    "LIGHT CLIENT HEAVY HEART",
    "SPV PROOF UNPROVABLE",
    "BLOOM FILTER FALSE POSITIVE",
    "NEUTRINO PROTOCOL UNCERTAIN",
    "COMPACT FILTERS DENSE",
    "BIP THIRTY NINE MIDLIFE",
    "BIP FORTY FOUR CONFUSION",
    "DERIVATION PATH LOST",
    "HARDENED KEYS SOFTENED",
    "XPUB LEAK EMBARRASSING",
    "CHANGE ADDRESS UNCHANGED",
    "GAP LIMIT EXISTENTIAL",
    "ACCOUNT DISCOVERY ITSELF",
    "COIN SELECTION PARALYSIS",
    "BRANCH AND BOUND LOST",
    "KNAPSACK PROBLEM PACKED",
    "FEE ESTIMATION GUESSING",
    "CPFP PARENT ISSUES",
    "RBF SIGNALING MIXED",
    "SEQUENCE FINAL NEVER",
    "NLOCKTIME LOCKED OUT",
    "CLTV EXPIRED HOPE",
    "CSV COMMA SEPARATED TRAUMA",
    "TIMELOCK RUSHING",
    "HASH PREIMAGE THERAPY",
    "SCRIPT INTERPRETER CONFUSED",
    "STACK OVERFLOW EMOTIONAL",
    "OP CHECKSIG TRUST ISSUES",
    "OP RETURN VOID SCREAMING",
    "OP IF INDECISIVE",
    "OP ELSE REGRET",
    "OP ENDIF RELIEF",
    "OP DUP IDENTITY CRISIS",
    "OP HASH BROWNS",
    "OP VERIFY DOUBT",
    "SIGHASH ALL NOTHING",
    "SIGHASH NONE CARING",
    "SIGHASH SINGLE LONELY",
    "SIGHASH ANYONECANPAY BOUNDARIES",
    "COINJOIN AWKWARD REUNION",
    "PAYJOIN SPLITTING BILL",
    "PAYNYM ANONYMOUS FEELINGS",
    "RICOCHET TRANSACTION BOUNCING",
    "STONEWALL DEFENSE WALLS",
    "STOWAWAY HIDING EMOTIONS",
    "WHIRLPOOL DIZZY",
    "TOXIC CHANGE DRAMA",
    "POSTMIX SPENDING REGRET",
    "PREMIX ANXIETY",
    "COORDINATOR FEE THERAPY",
    "MIXING ROUNDS CONFUSED",
    "ANONYMITY SET LONELY",
    "FORWARD SECRECY BACKWARD THOUGHTS",
    "STEGANOGRAPHY HIDDEN CRYING",
    "DENIABLE ENCRYPTION LYING",
    "PLAUSIBLE DENIABILITY IMPLAUSIBLE",
    "RUBBER HOSE CRYPTANALYSIS PAINFUL",
    "EVIL MAID ATTACK CLEANING",
    "COLD BOOT ATTACK FROZEN",
    "SIDE CHANNEL LEAKING EMOTIONS",
    "TIMING ATTACK LATE AGAIN",
    "POWER ANALYSIS EXHAUSTED",
    "FAULT INJECTION BLAME",
    "ROWHAMMER ATTACK HAMMERED",
    "SPECTRE HAUNTING",
    "MELTDOWN NUCLEAR",
    "CACHE POISONING TOXIC",
    "DNS REBINDING ISSUES",
    "BGP HIJACKING THERAPY",
    "ARP SPOOFING IDENTITY",
    "SSL STRIPPING NAKED",
    "MITM TRUST ISSUES",
    "REPLAY ATTACK DÉJÀ VU",
    "DOWNGRADE ATTACK REGRESSING",
    "BIRTHDAY ATTACK AGING",
    "COLLISION RESISTANCE CRASHING",
    "PREIMAGE RESISTANCE THERAPY",
    "SECOND PREIMAGE ANXIETY",
    "RAINBOW TABLE COLORFUL DESPAIR",
    "SALT SHAKER EMPTY",
    "PEPPER FORGOT FLAVOR",
    "BCRYPT EXHAUSTED",
    "SCRYPT SCRIPT KIDDIE",
    "ARGON TWO NOBLE GAS",
    "PBKDF TWO MANY ITERATIONS"
];

let currentPhraseIndex = 0;
let currentCharIndex = 0;
let isDeleting = false;
let typewriterElement = null;

const TYPING_SPEED = 80; // ms per character when typing
const DELETING_SPEED = 40; // ms per character when deleting
const PAUSE_AFTER_TYPING = 2000; // pause after finishing typing
const PAUSE_AFTER_DELETING = 500; // pause after deleting

function typeWriter() {
    if (!typewriterElement) {
        typewriterElement = document.getElementById('typewriter');
        if (!typewriterElement) {
            // Element not ready yet, try again later
            setTimeout(typeWriter, 100);
            return;
        }
    }

    const currentPhrase = phrases[currentPhraseIndex];

    if (isDeleting) {
        // Deleting characters
        typewriterElement.textContent = currentPhrase.substring(0, currentCharIndex - 1);
        currentCharIndex--;

        if (currentCharIndex === 0) {
            isDeleting = false;
            currentPhraseIndex = (currentPhraseIndex + 1) % phrases.length;
            setTimeout(typeWriter, PAUSE_AFTER_DELETING);
            return;
        }

        setTimeout(typeWriter, DELETING_SPEED);
    } else {
        // Typing characters
        typewriterElement.textContent = currentPhrase.substring(0, currentCharIndex + 1);
        currentCharIndex++;

        if (currentCharIndex === currentPhrase.length) {
            isDeleting = true;
            setTimeout(typeWriter, PAUSE_AFTER_TYPING);
            return;
        }

        setTimeout(typeWriter, TYPING_SPEED);
    }
}

// Start typewriter when DOM is ready
if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', typeWriter);
} else {
    typeWriter();
}
