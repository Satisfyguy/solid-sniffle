{# NEXUS GRID HEADER - Structure wodniack avec séparations verticales #}

<header class="nexus-grid-header">

  {# ========== CARRÉ 1: LOGO ========== #}
  <div class="nexus-grid-box nexus-grid-logo">
    <a href="/" hx-boost="true">NX</a>
  </div>

  {# ========== RECTANGLE 2: TYPEWRITER ========== #}
  <div class="nexus-grid-box nexus-grid-typewriter">
    <div class="nexus-typewriter-content">
      <span id="nexus-simple-typewriter-text"></span>
      <span class="nexus-cursor">|</span>
    </div>
  </div>

  {# ========== RECTANGLE 3: NAVIGATION ========== #}
  <div class="nexus-grid-box nexus-grid-nav">
    <nav>
      <a href="/" hx-boost="true">HOME</a>
      <span class="sep">•</span>
      <a href="/listings#categories">CATEGORIES</a>
      <span class="sep">•</span>
      <a href="/listings" hx-boost="true">LISTINGS</a>
      <span class="sep">•</span>
      <a href="/vendors" hx-boost="true">VENDORS</a>
    </nav>
  </div>

  {# ========== CARRÉ 4: AUTH (divisé en 2) ========== #}
  <div class="nexus-grid-box nexus-grid-auth">

    {# Zone gauche: Login #}
    <div class="nexus-auth-half">
      {% if logged_in %}
        <span class="nexus-auth-icon">{{ username[0] | upper }}</span>
      {% else %}
        <a href="/login" class="nexus-auth-icon" hx-boost="true">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4M10 17l5-5-5-5M15 12H3"/>
          </svg>
        </a>
      {% endif %}
    </div>

    {# Zone droite: Logout #}
    <div class="nexus-auth-half">
      {% if logged_in %}
        <form action="/logout" method="POST" style="display: inline; margin: 0; width: 100%; height: 100%;">
          <input type="hidden" name="csrf_token" value="{{ csrf_token }}">
          <button type="submit" class="nexus-auth-icon">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4M16 17l5-5-5-5M21 12H9"/>
            </svg>
          </button>
        </form>
      {% else %}
        <a href="/register" class="nexus-auth-icon" hx-boost="true">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2M12 7a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM20 8v6M23 11h-6"/>
          </svg>
        </a>
      {% endif %}
    </div>

  </div>

  {# ========== RECTANGLE 5: TOGGLE DARK/LIGHT ========== #}
  <div class="nexus-grid-box nexus-grid-toggle">
    <button class="nexus-toggle-dot" id="nexus-toggle-dot" aria-label="Toggle theme">
      <div class="nexus-dot"></div>
    </button>
  </div>

</header>
