{#
  NEXUS BUTTON COMPONENT

  Usage:
    {% include "partials/nexus/atoms/button.html" with
       text="Click me"
       variant="primary"
       size="md"
       type="button"
       disabled=false
       href=""
       hx_get=""
       hx_post=""
       hx_target=""
       class=""
    %}

  Parameters:
    - text (required): Button text content
    - variant (optional): primary|secondary|outline|ghost|destructive (default: primary)
    - size (optional): sm|md|lg|xl (default: md)
    - type (optional): button|submit|reset (default: button) - only for <button>
    - disabled (optional): true|false (default: false)
    - href (optional): If provided, renders as <a> tag instead of <button>
    - hx_get (optional): HTMX GET endpoint
    - hx_post (optional): HTMX POST endpoint
    - hx_put (optional): HTMX PUT endpoint
    - hx_delete (optional): HTMX DELETE endpoint
    - hx_target (optional): HTMX target selector
    - hx_swap (optional): HTMX swap strategy
    - hx_indicator (optional): HTMX loading indicator selector
    - class (optional): Additional CSS classes
    - id (optional): Element ID
    - aria_label (optional): Aria label for accessibility

  Examples:
    Primary button:
      {% include "partials/nexus/atoms/button.html" with text="Save" variant="primary" %}

    Link button:
      {% include "partials/nexus/atoms/button.html" with text="Go Home" href="/" variant="outline" %}

    HTMX button:
      {% include "partials/nexus/atoms/button.html" with
         text="Load More"
         hx_get="/api/listings"
         hx_target="#listings"
         variant="ghost"
      %}
#}

{% set btn_variant = variant | default(value="primary") %}
{% set btn_size = size | default(value="md") %}
{% set btn_type = type | default(value="button") %}
{% set btn_disabled = disabled | default(value=false) %}

{# Build CSS classes #}
{% set css_classes = "nexus-btn nexus-btn-" ~ btn_variant ~ " nexus-btn-" ~ btn_size %}
{% if class %}
  {% set css_classes = css_classes ~ " " ~ class %}
{% endif %}

{# Render as link if href provided #}
{% if href %}
  <a
    href="{{ href }}"
    class="{{ css_classes }}"
    {% if id %}id="{{ id }}"{% endif %}
    {% if aria_label %}aria-label="{{ aria_label }}"{% endif %}
    {% if btn_disabled %}
      aria-disabled="true"
      tabindex="-1"
      style="pointer-events: none; opacity: 0.5;"
    {% endif %}
    {# HTMX attributes #}
    {% if hx_get %}hx-get="{{ hx_get }}"{% endif %}
    {% if hx_post %}hx-post="{{ hx_post }}"{% endif %}
    {% if hx_put %}hx-put="{{ hx_put }}"{% endif %}
    {% if hx_delete %}hx-delete="{{ hx_delete }}"{% endif %}
    {% if hx_target %}hx-target="{{ hx_target }}"{% endif %}
    {% if hx_swap %}hx-swap="{{ hx_swap }}"{% endif %}
    {% if hx_indicator %}hx-indicator="{{ hx_indicator }}"{% endif %}
  >
    {{ text }}
  </a>

{# Render as button otherwise #}
{% else %}
  <button
    type="{{ btn_type }}"
    class="{{ css_classes }}"
    {% if id %}id="{{ id }}"{% endif %}
    {% if aria_label %}aria-label="{{ aria_label }}"{% endif %}
    {% if btn_disabled %}disabled{% endif %}
    {# HTMX attributes #}
    {% if hx_get %}hx-get="{{ hx_get }}"{% endif %}
    {% if hx_post %}hx-post="{{ hx_post }}"{% endif %}
    {% if hx_put %}hx-put="{{ hx_put }}"{% endif %}
    {% if hx_delete %}hx-delete="{{ hx_delete }}"{% endif %}
    {% if hx_target %}hx-target="{{ hx_target }}"{% endif %}
    {% if hx_swap %}hx-swap="{{ hx_swap }}"{% endif %}
    {% if hx_indicator %}hx-indicator="{{ hx_indicator }}"{% endif %}
  >
    {{ text }}
  </button>
{% endif %}
