{% extends "base.html" %}

{% block title %}REGISTER — AMAZAWN{% endblock %}

{% block content %}
<div class="auth-container">
    <div class="auth-card">
        <h1>— CREATE ACCOUNT —</h1>

        <form hx-post="/api/auth/register" hx-target="#auth-result" hx-swap="innerHTML" hx-indicator=".htmx-indicator" role="form" aria-label="Registration form">
            <!-- CSRF Token (required for backend validation) -->
            <input type="hidden" name="csrf_token" value="{{ csrf_token }}" aria-hidden="true">

            <div class="form-group">
                <label for="username">USERNAME</label>
                <input type="text" id="username" name="username" placeholder="Choose a username" required minlength="3" maxlength="50" autocomplete="username" aria-label="Choose your username" aria-required="true" aria-describedby="username-help">
                <small id="username-help">3-50 CHARACTERS</small>
            </div>

            <div class="form-group">
                <label for="password">PASSWORD</label>
                <input type="password" id="password" name="password" placeholder="••••••••" required minlength="8" autocomplete="new-password" aria-label="Choose your password" aria-required="true" aria-describedby="password-help">
                <small id="password-help">MINIMUM 8 CHARACTERS</small>
            </div>

            <div class="form-group">
                <label for="role">ROLE</label>
                <select id="role" name="role" required aria-label="Select your role" aria-required="true">
                    <option value="">— SELECT ROLE —</option>
                    <option value="buyer">BUYER</option>
                    <option value="vendor">VENDOR</option>
                </select>
            </div>

            <div class="form-actions">
                <button type="submit" class="btn btn-primary" style="width: 100%;" aria-label="Submit registration form">
                    REGISTER <span class="htmx-indicator" aria-hidden="true">→</span>
                </button>
            </div>
        </form>

        <div id="auth-result" style="margin-top: 20px;"></div>

        <p style="margin-top: 30px; text-align: center; color: #888; font-size: 11px; letter-spacing: 1px; text-transform: uppercase;">
            HAVE AN ACCOUNT? <a href="/login" style="color: #f5f5f5; text-decoration: none; border-bottom: 1px solid #f5f5f5;">LOGIN HERE</a>
        </p>
    </div>
</div>
{% endblock %}
