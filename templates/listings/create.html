{% extends "base.html" %}

{% block title %}CREATE LISTING — AMAZAWN{% endblock %}

{% block content %}
<div class="container" style="max-width: 700px;">
    <div class="card">
        <h1 style="font-size: 18px; font-weight: normal; letter-spacing: 2px; text-transform: uppercase; margin-bottom: 30px; text-align: center;">
            — CREATE NEW LISTING —
        </h1>

        <form id="create-listing-form" enctype="multipart/form-data">
            <input type="hidden" name="csrf_token" value="{{ csrf_token }}">
            <div class="form-group">
                <label for="title">TITLE</label>
                <input type="text" id="title" name="title" placeholder="Product title" required minlength="3" maxlength="200">
                <small>3-200 CHARACTERS</small>
            </div>

            <div class="form-group">
                <label for="description">DESCRIPTION</label>
                <textarea id="description" name="description" placeholder="Describe your product..." rows="6" required minlength="10" maxlength="5000"></textarea>
                <small>10-5000 CHARACTERS</small>
            </div>

            <div class="form-group">
                <label for="price_xmr">PRICE (ATOMIC UNITS)</label>
                <input type="number" id="price_xmr" name="price_xmr" placeholder="0" min="1" required>
                <small>1 XMR = 1,000,000,000,000 ATOMIC UNITS</small>
            </div>

            <div class="form-group">
                <label for="stock">STOCK</label>
                <input type="number" id="stock" name="stock" placeholder="0" min="0" required>
            </div>

            <div class="form-group">
                <label for="images">PRODUCT IMAGES</label>
                <input type="file" id="images" name="images" accept="image/jpeg,image/png,image/gif" multiple>
                <small>UPLOAD ONE OR MORE IMAGES (JPEG, PNG, GIF) - MAX 10 IMAGES, 5MB EACH</small>
                <div id="image-preview" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); gap: 10px; margin-top: 10px;"></div>
            </div>

            <div class="form-actions">
                <a href="/listings" class="btn btn-secondary" style="flex: 1;">CANCEL</a>
                <button type="submit" class="btn btn-primary" style="flex: 1;">
                    CREATE LISTING →
                </button>
            </div>
        </form>

        <div id="listing-result" style="margin-top: 20px;"></div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="/static/js/create-listing.js" defer></script>
{% endblock %}